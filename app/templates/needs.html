<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–†–ï–ë–ê | –ü–æ—Ç—Ä–µ–±–∏</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}"> -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        html, body {
            height: 100%;
            background-color: #f5f5f5;
        }
        
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .navbar {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px 40px;
            background-color: #5c6642;
            color: white;
            width: 100%;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            font-size: 18px;
            gap: 40px;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            font-weight: 500;
        }

        .cta-button {
            background-color: transparent;
            border: 1px solid white;
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
        }

        .user-profile {
            position: absolute;
            right: 40px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-name {
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            color: var(--primary-color);
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .user-name:hover {
            color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .user-name:after {
            content: 'üë§';
            margin-left: 5px;
            font-size: 14px;
        }

        .status-badge {
            background-color: #e8f4ff;
            color: #4a90e2;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .cta-button {
            padding: 10px 20px;
            background-color: #4a90e2;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .cta-button:hover {
            background-color: #3672c0;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .main-content {
            padding: 40px;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .needs-header {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-bottom: 30px;
            color: #333;
            font-size: 24px;
            font-weight: bold;
        }

        .needs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
            position: relative;
            flex: 1;
        }

        .need-card {
            background-color: #c5d5b5;
            border-radius: 40px;
            padding: 30px;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100%;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card-top {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .need-image {
            width: 130px;
            height: 130px;
            object-fit: cover;
            border-radius: 10px;
            margin: 0 20px 20px 0;
        }

        .percentage-container {
            width: calc(100% - 120px); /* Leave space for photo placeholder */
        }

        .percentage-badge {
            display: inline-block;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 5px 15px;
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            width: 50%;
            background-color: #64735f;
        }

        .photo-placeholder {
            width: 4px;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
        }

        .card-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 5px;
            color: #333;
        }

        .card-region {
            font-size: 16px;
            font-weight: 500;
            color: rgba(51, 51, 51, 0.7);
            margin-bottom: 20px;
        }

        .card-description {
            font-size: 14px;
            font-weight: 500;
            color: rgba(51, 51, 51, 0.7);
            margin-bottom: 25px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
        }

        .card-button {
            background-color: transparent;
            border: 1px solid #5c6642;
            color: #5c6642;
            padding: 10px 30px;
            border-radius: 30px;
            cursor: pointer;
            display: block;
            width: fit-content;
            font-size: 16px;
            font-weight: 500;
            text-align: center;
            transition: all 0.3s ease;
        }

        .card-button:hover {
            background-color: #5c6642;
            color: white;
        }

        .ukraine-map {
            width: 100%;
            background-color: #f5f5f5;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 40px;
            text-align: center;
        }

        .ukraine-map img {
            max-width: 100%;
            height: auto;
        }

        .footer {
            background-color: #5c6642;
            color: white;
            padding: 40px;
            width: 100%;
            margin-top: auto;
        }

        .footer-top {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
        }

        .footer-logo {
            font-size: 42px;
            font-weight: bold;
        }

        .login-form {
            background-color: transparent;
            width: 300px;
        }

        .form-title {
            margin-bottom: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 5px;
            font-size: 12px;
        }

        .form-input {
            width: 100%;
            padding: 10px;
            border-radius: 20px;
            border: none;
        }

        .forgot-password {
            text-align: right;
            font-size: 12px;
            margin-bottom: 15px;
        }

        .submit-button {
            background-color: #333;
            color: white;
            width: 100%;
            padding: 10px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
        }

        .footer-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 20px;
            font-size: 12px;
        }

        .social-icons {
            display: flex;
            gap: 10px;
        }

        .social-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .arrow-right {
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            background-color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .urgency-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .urgency-normal {
            background-color: #e3f2fd;
            color: #1976d2;
        }

        .urgency-urgent {
            background-color: #fff8e1;
            color: #ff8f00;
        }

        .urgency-critical {
            background-color: #ffebee;
            color: #c62828;
        }

        .date-created {
            font-size: 0.8rem;
            color: #999;
            margin-top: 10px;
        }
        .card-footer {
            margin-top: auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .no-needs-message {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            height: 100%;
            width: 100%;
            margin: auto;
            padding: 60px 20px;
            color: #999;
            grid-column: 1 / -1;
        }
        
        .no-needs-message h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #5c6642;
        }
        
        .no-needs-message p {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        
        /* –ù–æ–≤—ñ —Å—Ç–∏–ª—ñ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç—Ä–µ–±–∏ */
        .create-need-button {
            background-color: #7a8267;
            color: white;
            padding: 12px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 500;
            display: inline-block;
            margin-top: 15px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        
        .create-need-button:hover {
            background-color: #4a5335;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div class="navbar">
        <div class="nav-links">
            <a href="{{ url_for('main.about') }}" class="nav-link">–ü—Ä–æ –Ω–∞—Å</a>
            <a href="{{ url_for('main.index') }}" class="nav-link">–ì–æ–ª–æ–≤–Ω–∞</a>
            <a href="{{ url_for('main.needs') }}" class="nav-link">–ü–æ—Ç—Ä–µ–±–∏</a>
            {% if current_user.is_authenticated %}
                <a href="{{ url_for('main.create_need') }}" class="nav-link">–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Ç—Ä–µ–±—É</a>
                <a href="{{ url_for('main.profile') }}" class="nav-link">–ü—Ä–æ—Ñ—ñ–ª—å</a>
                <a href="{{ url_for('main.logout') }}" class="nav-link">–í–∏–π—Ç–∏</a>
            {% else %}
                <a href="{{ url_for('main.login') }}" class="nav-link">–£–≤—ñ–π—Ç–∏</a>
                <a href="{{ url_for('main.register') }}" class="nav-link">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</a>
            {% endif %}
        </div>
        {% if current_user.is_authenticated %}
            <div class="user-profile">
                <a href="{{ url_for('main.profile') }}" class="user-name">@{{ current_user.username }}</a>
                <div class="status-badge">{{ current_user.status }}</div>
            </div>
        {% endif %}
    </div>

    <div class="main-content">
        <div class="needs-header">
            ‚úä –ü–æ—Ç—Ä–µ–±–∏ –≤—ñ–π—Å—å–∫–æ–≤–∏—Ö:
        </div>
        
        <div class="needs-grid">
            {% if needs %}
                {% for need in needs %}
                    <div class="need-card">
                        <div class="card-top">
                            {% if need.image_url %}
                                <img src="{{ url_for('static', filename='need_images/' + need.image_url) }}" alt="{{ need.title }}" class="need-image">
                            {% else %}
                                <div class="need-image" style="background-color: #e0e0e0; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-box-open" style="font-size: 3rem; color: #999;"></i>
                                </div>
                            {% endif %}
                            
                            <div class="percentage-container">
                                <span class="percentage-badge">{{ need.percentage_complete }}%</span>
                                <div class="progress-bar">
                                    <div class="progress" style="width: {{ need.percentage_complete }}%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-content">
                            <h3 class="card-title">{{ need.title }}</h3>
                            <div class="card-region">
                                <i class="fas fa-map-marker-alt"></i>
                                {{ need.region }}
                            </div>
                            
                            <p class="card-description">{{ need.description }}</p>
                            
                            <div class="card-footer">
                                <a href="{{ url_for('main.need_detail', need_id=need.id) }}" class="card-button">–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</a>
                                
                                {% if need.urgency == "Normal" %}
                                    <span class="urgency-badge urgency-normal">–ó–≤–∏—á–∞–π–Ω–∞</span>
                                {% elif need.urgency == "Urgent" %}
                                    <span class="urgency-badge urgency-urgent">–¢–µ—Ä–º—ñ–Ω–æ–≤–∞</span>
                                {% elif need.urgency == "Critical" %}
                                    <span class="urgency-badge urgency-critical">–ö—Ä–∏—Ç–∏—á–Ω–∞</span>
                                {% endif %}
                            </div>
                            
                            <div class="date-created">
                                –°—Ç–≤–æ—Ä–µ–Ω–æ: {{ need.date_created.strftime('%d.%m.%Y') }}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="no-needs-message">
                    <h3>–ù–∞—Ä–∞–∑—ñ –Ω–µ–º–∞—î –∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö –ø–æ—Ç—Ä–µ–±</h3>
                    {% if current_user.is_authenticated %}
                        <p>–°—Ç–≤–æ—Ä—ñ—Ç—å –ø–µ—Ä—à—É –ø–æ—Ç—Ä–µ–±—É, —â–æ–± —ñ–Ω—à—ñ –º–æ–≥–ª–∏ –¥–æ–ø–æ–º–æ–≥—Ç–∏</p>
                        <a href="{{ url_for('main.create_need') }}" class="create-need-button">–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Ç—Ä–µ–±—É</a>
                    {% else %}
                        <p>–£–≤—ñ–π–¥—ñ—Ç—å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç—Ä–µ–±</p>
                        <a href="{{ url_for('main.login') }}" class="create-need-button">–£–≤—ñ–π—Ç–∏</a>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    </div>

    <div class="footer">
        <div class="footer-top">
            <div class="footer-logo">–¢–†–ï–ë–ê</div>
        </div>
        <div class="footer-bottom">
            <div class="social-icons">
                <div class="social-icon"><a href="https://www.instagram.com/neoldter/"><i class="fab fa-facebook-f"></i></a></div>
                <div class="social-icon"><i class="fab fa-instagram"></i></div>
            </div>
            <div>Launched in {{ now.year }}</div>
        </div>
    </div>
</body>
</html>